---
import { getLangFromUrl, useTranslations } from '../i18n/utils';
import MenuMobile from '../islands/MenuMobile.vue'
const menu = [
   {name: 'About', url:'/'},
   {name: 'Portfolio', url:'/portfolio'},
   {name: 'Blog', url:'/blog'},
]
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<script>
import { useTranslations } from "../i18n/utils"
function changeLang() {
    useTranslations('es')
 }
 let switcher = document.getElementById('langSwitcher')
 switcher.addEventListener('click', changeLang )
</script>

<!-- Desktop Navigation -->
<nav class="lg:flex justify-between items-center mt-5 m-auto z-10 relative top-0 hidden">
  <figure class=""><img src="/images/header-logo.svg" alt="Logo Sergio Orozco"></figure>
  <div class="flex gap-x-3 items-center">
    <ul class="flex gap-x-3 text-slate-700">
      {
        menu.map(item => (
          <li><a href={item.url}>{item.name}</a></li>
        ))
      }
    </ul>
    <i id="langSwitcher" class="hover:bg-slate-600 border-2 border-white font-semibold transition-all duration-300 hover:rotate-2 hover:text-white bg-white text-slate-950 rounded-full px-3">ES</i>
  </div>
</nav>


<!-- Mobile Navigation -->
<nav class="lg:hidden flex justify-between items-center mt-5 px-5">
  <figure class=""><img src="/images/header-logo.svg" alt="Logo Sergio Orozco"></figure>
  <MenuMobile></MenuMobile>
</nav>